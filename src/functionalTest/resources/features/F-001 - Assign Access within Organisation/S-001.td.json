{
	"_guid_": "S-001",
	"title": "Solicitor successfully sharing case access with another solicitor in their org (happy path)",

	"productName": "Manage Case Assignment Microservice",
	"operationName": "Assign Access within Organisation",

	"specs": [
		"S1 - with a solicitor role under an organisation to receive initial access on a case from a case worker",
		"S2 - with a solicitor role within the same organisation, with whome S1 will share a case with an assignment within organisation",
		"CW1 - to create a case and initially grant access for S1 on it",
		"is to be invoked by S1 to assign access over C1 for S2 within the same organisation"
	],

	"method": "PUT",
	"uri": "/case-assignments",

    "s2sClientId": "xui_webapp",
    "oauth2ClientId": "xuiwebapp",
 
	"users": {
		"S1": {
			"username": "befta.caseworker.2.solicitor.1@gmail.com",
			"password": "[[$CCD_BEFTA_CASEWORKER_2_SOLICITOR_1_PWD]]"
		},
		"S2": {
			"username": "befta.caseworker.2.solicitor.2@gmail.com",
			"password": "[[$CCD_BEFTA_CASEWORKER_2_SOLICITOR_2_PWD]]"
		},
		"CW1": {
			"username": "master.caseworker@gmail.com",
			"password": "[[$CCD_BEFTA_MASTER_CASEWORKER_PWD]]"
		}
	},

	"request": {
	    "_extends_": "Common_Request",
		"body": {
			"case_type_id": "${[scenarioContext][childContexts][Prerequisite_Case_Creation_C1][testData][actualResponse][body][case_type_id]}",
		    "case_id": "${[scenarioContext][childContexts][Prerequisite_Case_Creation_C1][testData][actualResponse][body][id]}",
			"assignee_id": "${[scenarioContext][testData][users][S2][id]}"
		}
	},
    "expectedResponse": {
		"_extends_": "Common_200_Response",
		"body": {
			"status_message": "Role [Defendant] from the organisation policy successfully assigned to the assignee."
		}
	}

}